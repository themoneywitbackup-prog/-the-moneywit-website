@property --spacing {
  initial-value: 1rem;
  inherits: true;
  syntax: "<length>";
}

@property --outline-size {
  initial-value: 0.25rem;
  inherits: true;
  syntax: "<length>";
}



@property --outline-offset {
  initial-value: 0.25rem;
  inherits: true;
  syntax: "<length>";
}




@layer color-schema {
  :root {
    color-scheme: light dark;
    --base: light-dark(#fff, #111);
    --background: light-dark(#fff, #111);
    --foreground: light-dark(#111, #fff);
    --selection-bg: light-dark(#ebf8fe, #1a3a52);
    --selection-fg: light-dark(#1a3a52, #ebf8fe);
    --outline-color: light-dark(#0275d8, #4a9eff);
    --option-hover-bg: light-dark(#e5e5e5, #2a2a2a);
    --table-border-color: light-dark(#ddd, #444);
    --scroll-thumb-color: light-dark(rgb(47, 47, 47), rgb(200, 200, 200));
    --scroll-hover-color: light-dark(rgb(77, 87, 108), rgb(150, 160, 180));
    --target-text-bg: light-dark(#FBE9E9, #4a2020);
    --target-text-color: light-dark(#353F50, #e0e8f0);
    --option-fg: light-dark(#000, #fff);
    --option-bg: light-dark(#fff, #1a1a1a);
    --option-hover: light-dark(#3d52ea, #6b7fff);
    --backdrop-color: light-dark(#00000083, #ffffff20);


    /* Input-specific colors */
    --input-bg: light-dark(#ffffff, #1a1a1a);
    --input-fg: light-dark(#111111, #f0f0f0);
    --input-border: light-dark(#d1d5db, #374151);
    --input-border-hover: light-dark(#9ca3af, #6b7280);
    --input-border-focus: light-dark(#0275d8, #4a9eff);
    --input-placeholder: light-dark(#9ca3af, #6b7280);
    --input-disabled-bg: light-dark(#f3f4f6, #1f2937);
    --input-disabled-fg: light-dark(#9ca3af, #6b7280);
    --input-invalid: light-dark(#dc2626, #ef4444);
    --input-valid: light-dark(#16a34a, #22c55e);

  }



}

::target-text {
  background-color: var(--target-text-bg);
  color: var(--target-text-color);
  font-weight: var(--font-weight-bold);
}

@layer tokens {
  :root {
    /* Container Query Breakpoints */
    --container-xs: 20rem;
    --container-sm: 30rem;
    --container-md: 48rem;
    --container-lg: 64rem;
    --container-xl: 80rem;
    /* Static Properties (moved from @property) */
    --scroll-width: 0px;
    --scroll-height: 0.25rem;
    --scroll-track-color: transparent;
    --scroll-border-radius: 50px;
    --scroll-display: block;
    --option-check: url("data: image/svg+xml;  base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1jaGVjay1pY29uIGx1Y2lkZS1jaGVjayI + PHBhdGggZD0iTTIwIDYgOSAxN2wtNS01Ii8 + PC9zdmc +");
    --drop-down-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='21' height='20' viewBox='0 0 21 20' fill='none'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18.0002 6.66679C18.0002 6.88013 17.9185 7.09346 17.756 7.25596L11.0894 13.9226C10.7635 14.2485 10.2369 14.2485 9.91104 13.9226L3.24437 7.25596C2.91854 6.93013 2.91854 6.40346 3.24437 6.07763C3.57021 5.75179 4.09687 5.75179 4.42271 6.07763L10.5002 12.1551L16.5777 6.07763C16.9035 5.75179 17.4302 5.75179 17.756 6.07763C17.9185 6.24013 18.0002 6.45346 18.0002 6.66679Z' fill=var(--option-hover) /%3E%3C/svg%3E");
    --img-placeholder: url(../assets/img-bg.svg);
    --debug: magenta;
    --target-text-bg: #FBE9E9;
    --target-text-color: #353F50;
    --placeholder-color: rgb(135, 135, 135);
    --picker-icon-color: #999999;
    --font-weight-bold: 700;
    --line-height-base: 1.5;
    --line-height-heading: 1.2;
    --line-height-body: 1.6;
    --gap-label: 0.5rem;
    --padding-table-cell: 0.5rem;
    --picker-offset: 0.5rem;
    --details-padding-bottom: 0.5em;
    --textarea-min-height: 10em;
    --max-text-width: 64ch;
    --section-intrinsic-size: 43.75rem;
    --blur-amount: 0.4375rem;
    --border-radius-top: 8px;
    --border-radius-bottom: 8px;
    --transition-duration-fast: 0.2s;
    --transition-duration-medium: 0.4s;
    --transition-duration-base: 0.5s;
    --transition-duration-slow: 0.6s;
    --transition-duration-slower: 1s;
    --transition-duration-instant: 0.01ms;
    --ease-out-3: cubic-bezier(0.2, 0.8, 0.2, 1);
    --table-border-width: 1px;
    --rotation-180: 180deg;
    --opacity-hidden: 0;
    --opacity-visible: 1;
    --transform-translate-y: 10px;
    --box-sizing: border-box;
    --height-full: 100%;
    --min-height-full: 100dvh;
    --width-full: 100%;
    --margin-zero: 0;
    --padding-zero: 0;
    --max-width-full: 100%;
    --height-auto: auto;
    --text-align-left: left;
    --vertical-align-top: top;
    --border-collapse: collapse;
    --outline-style: solid;
    --order-one: 1;
    --iteration-count: 1;
    --anchor-left: 0%;
    /* Borders */
    --table-border: var(--table-border-width) var(--outline-style) var(--table-border-color);
    --debug-outline: var(--table-border-width) var(--outline-style) var(--debug);
    /* Border Radius Compound */
    --border-radius-top-compound: var(--border-radius-top) var(--border-radius-top) var(--margin-zero) var(--margin-zero);
    --border-radius-bottom-compound: var(--margin-zero) var(--margin-zero) var(--border-radius-bottom) var(--border-radius-bottom);
    interpolate-size: allow-keywords;

    @media (prefers-color-scheme: dark) {
      --option-check: url("data: image/svg+xml;  base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1jaGVjay1pY29uIGx1Y2lkZS1jaGVjayI + PHBhdGggZD0iTTIwIDYgOSAxN2wtNS01Ii8 + PC9zdmc +");
    }

    /* ==========================================
       Global Design System Reset & Baseline
       Author: Clement Femi Bazuaye
       Github: https://github.com/dev-bazz
       LinkedIn: https://www.linkedin.com/in/devbazz/
       ========================================== */
    /*
    #:~:text=hello,you
      ::target-text {}
      */
  }
}

@layer base {

  *,
  *::before,
  *::after {
    box-sizing: var(--box-sizing);
    font-family: var(--averta-font);


  }

  html,
  body,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p,
  figure,
  blockquote,
  dl,
  dd,
  ul,
  section,
  div,
  ol {
    margin: var(--margin-zero);
    padding: var(--padding-zero);
  }

  html {
    height: var(--height-full);
    scroll-behavior: smooth;
    -moz-text-size-adjust: none;
    -webkit-text-size-adjust: none;
    text-size-adjust: none;
    font-display: swap;
    color: var(--foreground);

  }

  body {
    min-height: var(--min-height-full);
    line-height: var(--line-height-base);
    background-color: light-dark(var(--background));
    color: var(--foreground);
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scrollbar-gutter: 0rem;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--averta-font);
    line-height: var(--line-height-heading);
  }

  a {
    text-decoration: none;
    color: inherit;
    cursor: pointer;
  }

  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-width: var(--max-width-full);
    height: var(--height-auto);
  }

  video,
  img {
    object-fit: cover;
  }

  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;

    &[loading='lazy'] {
      content-visibility: auto;
    }
  }

  ul,
  ol {
    list-style: none;
  }

  :is(button, input, select) {
    cursor: pointer;
  }

  button {
    cursor: pointer;
  }

  input:not([type='checkbox'], [type='radio']),
  textarea,
  select {
    font: inherit;
    color: var(--input-fg);
    background-color: var(--input-bg);
    margin: var(--margin-zero);
    padding: 0.5rem 0.75rem;
    outline: none;
    border-radius: 0.375rem;
    transition:
      border-color var(--transition-duration-fast) var(--ease-out-3),
      box-shadow var(--transition-duration-fast) var(--ease-out-3);
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    &::placeholder {
      color: var(--input-placeholder);
      opacity: 0.6;
    }

    &:disabled {
      background-color: var(--input-disabled-bg);
      color: var(--input-disabled-fg);
      cursor: not-allowed;
      opacity: 0.6;
    }


  }

  :is(select[data-select-placeholder]) {
    --placeholder-color: var(--placeholder-color);
  }

  :is(select[data-select-placeholder]:focus-within option:first-child) {
    opacity: var(--opacity-hidden);
    pointer-events: none;
  }

  :is(select[data-select-placeholder]:invalid) {
    color: var(--placeholder-color);
  }

  :is(textarea:not([rows])) {
    min-height: var(--textarea-min-height);
  }

  :is(label:has(input, textarea, select, div)) {
    display: grid;
    gap: var(--gap-label);
    cursor: pointer;
    color: var(--input-bg);
  }

  label:has(input[type="checkbox"], input[type="radio"]) {
    grid-template-columns: auto 1fr;
  }


  textarea {
    resize: vertical;
    min-height: var(--textarea-min-height);

    /* fallback */
    @supports (field-sizing: content) {
      field-sizing: content;
    }
  }

  input[type='number']::-webkit-inner-spin-button,
  input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    appearance: none;
    margin: var(--margin-zero);
  }

  table {
    border-collapse: var(--border-collapse);
    width: var(--width-full);

    th,
    td {
      text-align: var(--text-align-left);
      vertical-align: var(--vertical-align-top);
      padding: var(--padding-table-cell);
      border: var(--table-border);
    }
  }




  ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-fg);
  }

  :focus:not(:focus-visible) {
    outline: none;
  }

  :focus-visible {
    outline-color: var(--outline-color);
    outline-width: var(--outline-size);
    outline-offset: var(--outline-offset);
    outline-style: var(--outline-style);
  }

  /* Better disabled state */
  :disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  /* Better readonly state */
  :read-only {
    cursor: default;
  }

  /* Autofill styles */
  :is(input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus) {
    -webkit-box-shadow:
      0 0 0px 1000px var(--input-bg) inset;
    -webkit-text-fill-color: var(--input-fg);
    border: none;
    caret-color: var(--input-fg);
  }
}

@layer scrollStyle {

  div,
  body,
  section {
    scrollbar-width: var(--scroll-width, thin);
    -ms-overflow-style: var(--scroll-display);
    scrollbar-gutter: stable;

    &::-webkit-scrollbar {
      display: var(--scroll-display);
      width: var(--scroll-width);
      height: var(--scroll-height);
      transition:
        width var(--transition-duration-medium) var(--ease-out-3),
        height var(--transition-duration-medium) var(--ease-out-3);
    }

    &::-webkit-scrollbar-track {
      background: var(--scroll-track-color);
      transition: background var(--transition-duration-medium) var(--ease-out-3);
    }

    &::-webkit-scrollbar-thumb {
      background: var(--scroll-thumb-color);
      border-radius: var(--scroll-border-radius);
      transition:
        background var(--transition-duration-medium) var(--ease-out-3),
        border-radius var(--transition-duration-medium) var(--ease-out-3);
    }

    &::-webkit-scrollbar-thumb:hover {
      background: var(--scroll-hover-color);
    }
  }
}

@layer experimental {
  select {
    font-family: inherit;
    font-size: inherit;
    cursor: inherit;
    line-height: inherit;
    width: var(--width-full);

    option:checked {
      font-weight: bold;
    }

    option::checkmark {
      order: var(--order-one);
      margin-left: auto;
      content: var(--option-check);
    }
  }

  option:first-of-type {
    border-radius: var(--border-radius-top-compound);
  }

  option:last-of-type {
    border-radius: var(--border-radius-bottom-compound);
  }

  option:not(option:last-of-type) {
    border-bottom: none;
  }

  option {
    background: var(--option-bg);
    color: var(--option-fg);
    padding: 0.5rem 0.75rem;

    &:hover {
      background: var(--option-hover-bg);
    }
  }

  select {
    display: flex;
    align-items: center;
    appearance: base-select;

    &::picker-icon {
      content: var(--drop-down-icon);
      color: var(--picker-icon-color);
      block-size: 1em;
      transition: var(--transition-duration-medium) rotate;
    }

    &::-ms-expand {
      display: none;
    }

    &:open {
      &::picker-icon {
        rotate: var(--rotation-180);
      }
    }
  }


  ::picker(select) {
    appearance: base-select;
    opacity: var(--opacity-hidden);
    transition:
      opacity var(--transition-duration-fast) ease,
      transform var(--transition-duration-fast) var(--ease-out-3),
      display var(--transition-duration-fast) allow-discrete,
      overlay var(--transition-duration-fast) allow-discrete;
    border: none;
    top: calc(anchor(bottom) + var(--picker-offset));
    left: anchor(var(--anchor-left));

    &:popover-open {
      opacity: var(--opacity-visible);
      transition: opacity .4s ease;

      @starting-style {
        opacity: var(--opacity-hidden);
      }

    }
  }

  /* transition the selected option changing */
  selectedcontent > * {
    transition:
      transform var(--transition-duration-slower) var(--ease-out-3),
      display var(--transition-duration-slower) allow-discrete,
      opacity var(--transition-duration-slower);
    opacity: var(--opacity-visible);

    @starting-style {
      opacity: var(--opacity-hidden);
      transform: translateY(var(--transform-translate-y));
    }
  }
}

/* -----------------------------
   3. Typography
   ----------------------------- */
@layer typography {

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    text-wrap: balance;
    overflow-wrap: break-word;
  }

  p,
  li,
  figcaption {
    max-width: var(--max-text-width);
    line-height: var(--line-height-body);
    text-wrap: pretty;
  }
}

/* -----------------------------
   4. Layout
   ----------------------------- */
@layer layout {

  footer,
  main,
  nav,
  aside,
  section,
  article {
    width: var(--width-full);
    container-type: inline-size;
  }

  :is(section):not([data-no-cv]) {
    content-visibility: auto;
    contain-intrinsic-size: auto var(--section-intrinsic-size);
  }

  [data-container] {
    max-width: var(--container-max);
    margin-inline: auto;
    padding-inline: var(--spacing);
  }

  [float-root] {
    display: flow-root;
  }
}

/* Details */
@layer details {

  details {
    & > summary {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      align-content: center;
      list-style: none;
      justify-content: space-between;

      &::marker,
      &::-webkit-details-marker {
        display: none;
      }

      &::after {
        content: var(--drop-down-icon); // use SVG from CSS var
        block-size: 1em;
        aspect-ratio: 1 / 1;
        transition: transform var(--transition-duration-fast) var(--ease-out-3);
        transform-origin: center center;

      }
    }


    &[open] {
      & > summary {
        &:not([data-no-transition]) {
          &::after {
            transform: rotate(var(--rotation-180));
          }
        }

      }
    }

  }

  @supports (interpolate-size: allow-keywords) {


    ::details-content {
      --trans-duration: var(--transition-duration-base);
      transition:
        all var(--trans-duration) var(--ease-out-3),
        content-visibility var(--trans-duration) allow-discrete;
      height: var(--opacity-hidden);
      overflow: clip;
    }

    [open]::details-content {
      height: var(--height-auto);
      padding-bottom: var(--details-padding-bottom);
    }
  }




}

/* Dialog */
@layer modal {
  dialog {

    &:not([data-no-transition]) {
      transition:
        display var(--transition-duration-slower) allow-discrete,
        overlay var(--transition-duration-slower) allow-discrete,
        scale var(--transition-duration-fast) var(--ease-out-3);
      scale: var(--opacity-hidden);

      &[open] {
        transition:
          display var(--transition-duration-slower) allow-discrete,
          overlay var(--transition-duration-slower) allow-discrete,
          scale var(--transition-duration-slow) var(--ease-out-3);
        scale: var(--opacity-visible);

        @starting-style {
          scale: var(--opacity-hidden);
        }

        &::backdrop {
          opacity: var(--opacity-visible);

          @starting-style {
            opacity: var(--opacity-hidden);
          }
        }
      }

      &::backdrop {
        background-color: var(--background-color);
        transition: opacity var(--transition-duration-slower);
        opacity: var(--opacity-hidden);
      }
    }

  }

  [popover] {
    margin: auto;

    &:not([data-no-transition]) {
      transition:
        display var(--transition-duration-slower) allow-discrete,
        overlay var(--transition-duration-slower) allow-discrete,
        scale var(--transition-duration-fast) var(--ease-out-3);
      scale: var(--opacity-hidden);

      &:popover-open {
        transition:
          display var(--transition-duration-slower) allow-discrete,
          overlay var(--transition-duration-slower) allow-discrete,
          scale var(--transition-duration-slow) var(--ease-out-3);
        scale: var(--opacity-visible);

        @starting-style {
          scale: var(--opacity-hidden);
        }

        &::backdrop {
          background-color: var(--backdrop-color);
          backdrop-filter: blur(var(--blur-amount));
          transition: opacity var(--transition-duration-slower);
          opacity: var(--opacity-visible);

          @starting-style {
            opacity: var(--opacity-hidden);
          }

        }
      }
    }



  }

}

/* -----------------------------
   6. Accessibility
   ----------------------------- */
@layer accessibility {
  @media (prefers-reduced-motion: reduce) {
    html:focus-within {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: var(--transition-duration-instant) !important;
      animation-iteration-count: var(--iteration-count) !important;
      transition-duration: var(--transition-duration-instant) !important;
      scroll-behavior: auto !important;
    }
  }

  @media (prefers-contrast: more) {
    :focus-visible {
      outline-color: CanvasText;
    }
  }
}

/* -----------------------------
   7. Developer Ergonomics
   ----------------------------- */
@layer helpers {
  [data-debug] * {
    outline: var(--debug-outline);
  }
}
